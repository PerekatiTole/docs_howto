.. sectionauthor:: Артём Светлов <artem.svetlov@nextgis.ru>

.. nextgis_command_prompt:

nextgis command prompt и запуск консольных утилит gdal/ogr
====================================================================

Введение
----------------------------

В этой инструкции мы расскажем о том, как запускать утилиты gdal/ogr в консоли.

Описание
---------------------------

Вместе с NextGIS QGIS устанавливается интепритатор языка Python и утилиты командной строки ogr: ogr2ogr, gdalinfo, ogrlineref и другие. Большинству пользователей нет нужды ими пользоваться. Они могут пригодится для определённых процедур, не вынесенных в QGIS, например обрезать растр и одновременно сжать его в jpeg. 


Запуск в Ubuntu/MacOS
--------------------------------------------

В этих операционных системах всё просто, после установки NextGIS QGIS утилиты доступны во всей системе через коммандную строку. Утилиты gdal/ogr и Python ставятся по зависимостям при установке NextGIS QGIS.


Запуск в Microsoft Windows
-------------------------------------------------------------------------------

На Windows они не прописываются в path, и из системной консоли они не видны. Это сделано так что бы при совместной установке NextGIS QGIS и обычного QGIS они не ломали друг друга.
Вместе с NextGIS QGIS в меню "Пуск" добавляется ярлык NextGIS Command Prompt, который открывает терминал в котором можно запускать утилиты.

Меню Пуск

Консоль

Под Windows проще всего запускать утилиты используя полные пути к файлам.

Что бы запустить утилиту ogr2ogr на Windows необходимо:

1. Инсталировать NextGIS QGIS 
2. Запустить поиск Windows (Win+S) 
3. По строке "NextGIS" найти и запустить NextGIS Command Promt
4. Откроется окно с коммандной строкой. В нём можно запускать ogr2ogr и другие утилиты GDAL.

Так же в этом окне запускается python.
Вы можете создать скрипт на python, который будет вызывать ogr2ogr вот так: 

.. code-block:: python

import os
os.system('ogr2ogr output.shp test.vrt')
os.system('ogr2ogr output.geojson sample.shp')

И вызвать его из NextGIS Command Promt


.. code-block:: batch

python c:/gis/main.py
